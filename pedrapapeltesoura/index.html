<!DOCTYPE html>
<html lang="pt-Br">
<head>

    <title>pedra, papel ou tesoura</title>
</head>
<body>
    <style>
        .player-options img,
        .enemy-options img
        {
           max-width: 200px;
           opacity: 0.3;
           cursor: pointer;
        }
        .player-options,.enemy-options{
            width: 50%;
        }
        .align{
            display: flex;
        }
    </style>
    <h1 style="text-align: center;">pedra, papel ou tesoura</h1>
    <h2 class="vencedor"></h2>
    <hr>
   <div class="align"> 
    <div class="player-options">

        <div><img opt="pedra" src="rock.png"></div>
        <div><img opt="papel" src="paper.png"></div>
        <div><img opt="tesoura" src="scisor.png"></div>

    </div>
    <div class="enemy-options">

        <div><img opt="pedra" src="rock.png"></div>
        <div><img opt="papel" src="paper.png"></div>
        <div><img opt="tesoura" src="scisor.png"></div>

    </div>
 </div>











    <script>
        var elementos = document.querySelectorAll('.player-options div > img')
        var playerOpt = "";
        var inimigoOpt = ""
        
        function validarVitoria(){
            let vencedor = document.querySelector('.vencedor')

            if (playerOpt=="papel"){
                if (inimigoOpt == "papel"){
                    vencedor.innerHTML = 'empatou'
                }else if(inimigoOpt == "tesoura"){
                    vencedor.innerHTML = 'você perdeu'

                }else if(inimigoOpt == "pedra"){
                    vencedor.innerHTML = 'você ganhou'
                }

            }
            if (playerOpt=="tesoura"){
                if (inimigoOpt == "papel"){
                    vencedor.innerHTML = 'você ganhou'
                }else if(inimigoOpt == "tesoura"){
                    vencedor.innerHTML = 'empatou'

                }else if(inimigoOpt == "pedra"){
                    vencedor.innerHTML = 'você perdeu'
                }

            }
            if (playerOpt=="pedra"){
                if (inimigoOpt == "papel"){
                    vencedor.innerHTML = 'você perdeu'
                }else if(inimigoOpt == "tesoura"){
                    vencedor.innerHTML = 'você ganhou'

                }else if(inimigoOpt == "pedra"){
                    vencedor.innerHTML = 'empatou'
                }

            }




        }

        function resetInimigo(){  for( var i =0; i < enemyOptions.length; i++){
            const enemyOptions = document.querySelectorAll('.enemy-options div')  
                        enemyOptions[i].childNodes[0].style.opacity = 0.3 
        }
            
        }

        function inimigoJogar(){
            let rand= Math.floor(Math.random()*3);

             enemyOptions = document.querySelectorAll('.enemy-options div')
            resetInimigo()
                for( var i =0; i < enemyOptions.length; i++){
                    if (i == rand){
                        enemyOptions[i].childNodes[0].style.opacity = 1
                        inimigoOpt = enemyOptions[i].childNodes[0].getAttribute('opt') 
                    }
                }

                validarVitoria()
        }   
            
         
       function resetOpacityPlayer(){
          for(var i=0; i< elementos.length; i++){

            elementos[i].style.opacity = 0.3
        }
       }
          for(var i=0; i< elementos.length; i++){
                elementos[i].addEventListener('click', function(t){
                    resetOpacityPlayer()
                    t.target.style.opacity = 1 
                    playerOpt = t.target.getAttribute('opt');


                    inimigoJogar()    
                    
                })
        }
    </script>   
</body>
</html>